---
import Layout from '../layouts/Layout.astro';
import Navigation from '../components/Navigation.astro';
import Album from '../components/Album.astro';
import Footer from '../components/Footer.astro';

import { getLangFromUrl, getRouteFromStaticPath, useTranslations, useTranslatedPath } from '../i18n/utils';

export function getStaticPaths() {
	return [
		{ params: { album: 'albums/business' } },
		{ params: { album: 'albums/families' } },
		{ params: { album: 'albums/people' } },
		{ params: { album: 'albums/travel' } },
		{ params: { album: 'albums/weddings' } },
		{ params: { album: 'de/alben/business' } },
		{ params: { album: 'de/alben/familien' } },
		{ params: { album: 'de/alben/menschen' } },
		{ params: { album: 'de/alben/reisen' } },
		{ params: { album: 'de/alben/hochzeiten' } },
		{ params: { album: 'es/albumes/negocios' } },
		{ params: { album: 'es/albumes/familias' } },
		{ params: { album: 'es/albumes/personas' } },
		{ params: { album: 'es/albumes/viajes' } },
		{ params: { album: 'es/albumes/bodas' } },		
		{ params: { album: 'fr/albums/business' } },
		{ params: { album: 'fr/albums/familles' } },
		{ params: { album: 'fr/albums/people' } },
		{ params: { album: 'fr/albums/voyages' } },
		{ params: { album: 'fr/albums/mariages' } }
	];
}

const albums = {
		albumsbusiness: 'business',
		albumsfamilies: 'families',
		albumspeople: 'people',
		albumstravel: 'travel',
		albumsweddings: 'weddings'
	};

const { album } = Astro.params;
const route = getRouteFromStaticPath(Astro.url, album);
const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
const albumName = albums[route];
---


<Layout title={t(`photos.${albumName}`)}>
	<Navigation path="/" />
</Layout>

<main id="main" class="album">
	<Album album={albumName} />
</main>
<footer id="footer"><Footer /> <Navigation /></footer>

<script src="../scripts/album.js"></script>
